<!doctype html>
<html>
    <head>
		<meta charset="utf-8">
        <meta name="viewport" content="width=device-width" />
        <title>Web Interactivity</title>
    </head>
    <body>
        <script src="/polyfill.js"></script>
        <script src="/sse.js"></script>
        <style media="screen" type="text/css">
html, body {
    margin: 0px;
    width: 100%;
    height: 100%;
}

body {
    display: flex;
}

#chat {
    flex: 1;
    background-color: #CECECE;
    word-break: break-all;
    overflow-y: scroll;
}

#chat-div {
    flex: 1;
    display: flex;
    flex-direction: column;
}

#chat-input {
    background-color: #EEE;
    display: flex;
}

#message {
    flex: 1;
}
        </style>

        <script>
function onDirect(user, message) {
    setRaw('chat', get('chat') + "(From <strong>" + user + "</strong>): " + message + "<br>");
}
function onGlobal(user, message) {
    setRaw('chat', get('chat') + "<strong>" + user + "</strong>: " + message + "<br>");
}
        </script>

        <div id="chat-div">
                <div id="chat"></div>

                <form id="chat-input" onsubmit="call('say', 'target', 'message'); set('message', '');" action="javascript:void(0);">

                    <input id="target" placeholder="world" type="text">
                    <input id="message" placeholder="message" type="text">
                    <button type="submit">Send</button>
                </form>
        </div>

        <div id="code-div">
               <p>Session: <span id="session_id">session3b8280a901fbedc70161e82f4a3524bb</span></p>

               <textarea style="width: 414px; height: 35px;" id="code" oninput="call('save_code', 'code');" placeholder="code"></textarea>
        </div>    

</body>

    </body>
</html>
